<script type="text/javascript" src="src.js"></script>
<body  style="width:100%;height: 100%;">
<table id="dg" data-options="rownumbers:true,pageSize: 50,singleSelect:true,pagination:true,url:'data/run.php?c=UsersEui&f=getUsersList',method:'get',toolbar:'#tb',onDblClickRow:onDblClickRow">
    <thead>
        <tr>
            <th data-options="field:'id',width:120">
                编号
            </th>
            <th data-options="field:'mobile_num',width:100">
                手机号
            </th>
            <th data-options="field:'user_type_name',width:100">
                用户类型
            </th>
            <th data-options="field:'u_nickname',width:100">
                微信昵称
            </th>
            <th data-options="field:'u_head_photo',width:100" formatter="picFormat">
                微信头像
            </th>
			<th data-options="field:'open_id',width:240">
                微信ID
            </th>
            <th data-options="field:'created_at',width:140">
                注册时间
            </th>
			<th data-options="field:'updated_at',width:140">
                状态
            </th>
        </tr>
    </thead>
</table>
<div id="tb" style="padding:2px 5px;">
		用户ID: <input class="easyui-textbox" id="inputId" style="width:110px">
		手机号: <input class="easyui-textbox" id="inputName" style="width:110px">
		<a href="#" class="easyui-linkbutton" iconCls="icon-search" id="sBtn">Search</a>
</div>
<div id="w" class="easyui-window" title="查看用户详细" data-options="modal:true,closed:true,iconCls:'icon-save'" style="padding:10px;">
		<div class="easyui-panel" title="" style="width:600px">
			<div style="padding:10px 60px 20px 60px" id="userInfo">
			    
		    </div>
		</div>
	</div>
<script type="text/javascript">
    $(function(){
        var pager = $('#dg').datagrid().datagrid('getPager'); 
		$('#sBtn').click(function(){
			$('#dg').datagrid('load', {
			    _name: $('#inputName').val(),
				_id:$('#inputId').val()
			});
		});
    });
	function onDblClickRow(field,row){
		$('#w').window('open');
	}
	function picFormat(val){
        return '<img src="'+val+'" height=70 width=70></img>'
    }
</script>
</body>